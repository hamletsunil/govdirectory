@import "tailwindcss";

/* ===========================
   GOV DIRECTORY — Design System v2
   directory.myhamlet.com

   Informed by: Stripe hierarchy, FT annotation,
   Airbnb storytelling, Linear dark-mode elevation.
   =========================== */

:root {
  /* Surfaces — warm dark elevation (editorial, not dashboard) */
  --bg-primary: #111015;
  --bg-card: #1a1820;
  --bg-card-hover: #201e28;
  --bg-elevated: #252230;
  --bg-inset: rgba(255, 255, 255, 0.025);
  --border: rgba(255, 255, 255, 0.06);
  --border-hover: rgba(255, 255, 255, 0.14);

  /* Text — warm tones */
  --text-primary: #f0ecf5;
  --text-secondary: #9590a0;
  --text-muted: #655e70;
  --text-faint: #463f52;

  /* Accent — set per city via accent-N class */
  --accent: var(--city-accent, #6366f1);
  --accent-light: var(--city-accent-light, #818cf8);
  --accent-glow: var(--city-accent-glow, rgba(99, 102, 241, 0.12));

  /* Semantic — ONLY for data-driven meaning */
  --positive: #10b981;
  --positive-bg: rgba(16, 185, 129, 0.10);
  --negative: #ef4444;
  --negative-bg: rgba(239, 68, 68, 0.10);
  --warning: #f59e0b;
  --warning-bg: rgba(245, 158, 11, 0.10);
  --neutral: #6b7280;

  /* Typography — Literata for editorial, Geist for functional */
  --font-display: var(--font-literata), Georgia, "Times New Roman", serif;
  --font-body: var(--font-geist-sans), system-ui, -apple-system, sans-serif;
  --font-mono: var(--font-geist-mono), ui-monospace, monospace;

  /* Type scale — 3 clear levels for stats (larger than v1) */
  --stat-hero: clamp(2.25rem, 5.5vw, 3.5rem);
  --stat-supporting: clamp(1.25rem, 3vw, 1.75rem);
  --stat-label: 0.75rem;
  --stat-context: 0.6875rem;

  /* General type */
  --text-hero: clamp(3rem, 10vw, 5.5rem);
  --text-title: clamp(1.5rem, 4vw, 2.25rem);
  --text-subtitle: clamp(1.125rem, 2vw, 1.375rem);
  --text-body: 1rem;
  --text-small: 0.875rem;
  --text-tiny: 0.75rem;
  --text-micro: 0.6875rem;

  --leading-tight: 1.05;
  --leading-normal: 1.6;
  --tracking-tight: -0.02em;
  --tracking-wide: 0.06em;
  --tracking-wider: 0.12em;

  --ease: cubic-bezier(0.21, 0.47, 0.32, 0.98);
  --ease-bounce: cubic-bezier(0.34, 1.56, 0.64, 1);
}

/* === Accent pool — 12 colors assigned by slug hash === */
.accent-0  { --city-accent: #6366f1; --city-accent-light: #818cf8; --city-accent-glow: rgba(99, 102, 241, 0.12); }
.accent-1  { --city-accent: #10997F; --city-accent-light: #14b89a; --city-accent-glow: rgba(16, 153, 127, 0.12); }
.accent-2  { --city-accent: #f59e0b; --city-accent-light: #fbbf24; --city-accent-glow: rgba(245, 158, 11, 0.12); }
.accent-3  { --city-accent: #3b82f6; --city-accent-light: #60a5fa; --city-accent-glow: rgba(59, 130, 246, 0.12); }
.accent-4  { --city-accent: #ec4899; --city-accent-light: #f472b6; --city-accent-glow: rgba(236, 72, 153, 0.12); }
.accent-5  { --city-accent: #14b8a6; --city-accent-light: #2dd4bf; --city-accent-glow: rgba(20, 184, 166, 0.12); }
.accent-6  { --city-accent: #f97316; --city-accent-light: #fb923c; --city-accent-glow: rgba(249, 115, 22, 0.12); }
.accent-7  { --city-accent: #8b5cf6; --city-accent-light: #a78bfa; --city-accent-glow: rgba(139, 92, 246, 0.12); }
.accent-8  { --city-accent: #06b6d4; --city-accent-light: #22d3ee; --city-accent-glow: rgba(6, 182, 212, 0.12); }
.accent-9  { --city-accent: #ef4444; --city-accent-light: #f87171; --city-accent-glow: rgba(239, 68, 68, 0.12); }
.accent-10 { --city-accent: #84cc16; --city-accent-light: #a3e635; --city-accent-glow: rgba(132, 204, 22, 0.12); }
.accent-11 { --city-accent: #e879f9; --city-accent-light: #f0abfc; --city-accent-glow: rgba(232, 121, 249, 0.12); }

/* === BASE === */
*, *::before, *::after { box-sizing: border-box; }
html { background: var(--bg-primary); color: var(--text-primary); -webkit-font-smoothing: antialiased; -moz-osx-font-smoothing: grayscale; }
body { margin: 0; font-family: var(--font-body); font-size: var(--text-body); line-height: var(--leading-normal); }
::selection { background: var(--accent); color: white; }
a { color: var(--accent-light); text-decoration: none; }
a:hover { text-decoration: underline; }

/* === HEADER === */
.site-header { position: fixed; top: 0; left: 0; right: 0; z-index: 100; padding: 1rem 1.5rem; display: flex; align-items: center; justify-content: space-between; background: rgba(17, 16, 21, 0.85); backdrop-filter: blur(12px); border-bottom: 1px solid var(--border); }
.site-header-brand { display: flex; align-items: center; gap: 0.5rem; font-size: var(--text-small); font-weight: 600; color: var(--text-primary); text-decoration: none; letter-spacing: var(--tracking-wide); }
.site-header-brand:hover { text-decoration: none; color: var(--accent-light); }
.site-header-brand svg { width: 20px; height: 20px; color: var(--accent); }
.site-header-hamlet { font-size: var(--text-tiny); color: var(--text-muted); letter-spacing: var(--tracking-wider); text-transform: uppercase; }
.site-header-hamlet a { color: var(--text-muted); }
.site-header-hamlet a:hover { color: var(--text-secondary); text-decoration: none; }

/* === HERO === */
.hero { position: relative; min-height: 70vh; display: flex; align-items: center; justify-content: center; padding: 8rem 2rem 4rem; overflow: hidden; }
.hero-bg { position: absolute; inset: 0; pointer-events: none; }
.hero-grid { position: absolute; inset: 0; background-image: linear-gradient(var(--accent-glow) 1px, transparent 1px), linear-gradient(90deg, var(--accent-glow) 1px, transparent 1px); background-size: 60px 60px; opacity: 0.5; }
.hero-glow { position: absolute; top: -40%; left: 50%; transform: translateX(-50%); width: 140%; height: 140%; background: radial-gradient(ellipse at center, var(--accent-glow) 0%, transparent 55%); }
.hero-content { position: relative; z-index: 2; text-align: center; max-width: 700px; }
.hero-badge { display: inline-flex; align-items: center; gap: 0.5rem; font-size: var(--text-tiny); font-family: var(--font-body); text-transform: uppercase; letter-spacing: var(--tracking-wider); color: var(--accent); margin-bottom: 2rem; }
.hero-badge-dot { width: 6px; height: 6px; border-radius: 50%; background: var(--accent); box-shadow: 0 0 8px var(--accent-glow); animation: pulse 2.5s ease-in-out infinite; }
@keyframes pulse { 0%, 100% { opacity: 1; box-shadow: 0 0 8px var(--accent-glow); } 50% { opacity: 0.4; box-shadow: 0 0 16px var(--accent-glow); } }
.hero-name { font-family: var(--font-display); font-size: var(--text-hero); font-weight: 600; line-height: 1; letter-spacing: -0.025em; color: var(--text-primary); margin: 0 0 0.375rem; text-wrap: balance; }
.hero-state { font-size: var(--text-small); font-family: var(--font-body); text-transform: uppercase; letter-spacing: var(--tracking-wider); color: var(--text-secondary); margin-bottom: 2rem; }
.hero-population { font-family: var(--font-display); font-size: clamp(1.75rem, 4vw, 2.75rem); font-weight: 600; color: var(--accent); margin-bottom: 0.25rem; font-variant-numeric: tabular-nums; letter-spacing: -0.01em; }
.hero-pop-label { font-size: var(--text-tiny); font-family: var(--font-body); text-transform: uppercase; letter-spacing: var(--tracking-wider); color: var(--text-secondary); }
.hero-sources { display: inline-flex; align-items: center; gap: 0.4rem; margin-top: 2rem; font-size: var(--text-tiny); font-family: var(--font-body); color: var(--text-secondary); padding: 0.4rem 0.8rem; border-radius: 100px; border: 1px solid var(--border); background: var(--bg-card); }
.hero-scroll { position: absolute; bottom: 2.5rem; left: 50%; transform: translateX(-50%); display: flex; flex-direction: column; align-items: center; gap: 0.5rem; font-size: var(--text-tiny); color: var(--text-muted); letter-spacing: var(--tracking-wide); }
.hero-scroll-line { width: 1px; height: 48px; background: linear-gradient(to bottom, var(--accent), transparent); animation: scroll-fade 2s ease-in-out infinite; }
@keyframes scroll-fade { 0%, 100% { opacity: 0.6; height: 48px; } 50% { opacity: 0.2; height: 56px; } }

/* === REPORT CARD (hero) === */
.report-card {
  margin-top: 2.5rem;
  display: flex;
  flex-direction: column;
  align-items: center;
  gap: 1.25rem;
}
.composite-grade {
  font-family: var(--font-display);
  font-size: clamp(3rem, 8vw, 4.5rem);
  font-weight: 700;
  line-height: 1;
  letter-spacing: -0.02em;
}
.grade-a { color: #10b981; }
.grade-b { color: #3b82f6; }
.grade-c { color: #f59e0b; }
.grade-d { color: #f97316; }
.grade-f { color: #ef4444; }
.grade-na { color: var(--text-muted); }
.report-card-grid {
  display: grid;
  grid-template-columns: repeat(3, auto);
  gap: 0.375rem 1.5rem;
}
.report-card-item {
  display: flex;
  align-items: center;
  gap: 0.625rem;
}
.report-card-category {
  font-family: var(--font-body);
  font-size: 0.6875rem;
  color: var(--text-secondary);
  text-transform: uppercase;
  letter-spacing: 0.06em;
  min-width: 70px;
}
.report-card-grade {
  font-family: var(--font-display);
  font-size: 1.125rem;
  font-weight: 700;
}

/* === AT A GLANCE === */
.glance { max-width: 900px; margin: 0 auto; padding: 0 1.5rem; display: grid; grid-template-columns: repeat(auto-fit, minmax(140px, 1fr)); gap: 1px; background: var(--border); border-radius: 16px; overflow: hidden; }
.glance-stat { background: var(--bg-card); padding: 2rem 1.25rem; text-align: center; }
.glance-stat-value { font-family: var(--font-display); font-size: clamp(1.75rem, 4vw, 2.5rem); font-weight: 700; color: var(--text-primary); margin-bottom: 0.375rem; font-variant-numeric: tabular-nums; letter-spacing: -0.02em; }
.glance-stat-label { font-size: var(--text-tiny); font-family: var(--font-body); color: var(--text-secondary); letter-spacing: 0.04em; }
.glance-finding { grid-column: 1 / -1; background: var(--bg-card); padding: 1.75rem 2rem; border-top: 1px solid var(--border); }
.glance-finding-label { font-size: var(--text-tiny); font-family: var(--font-body); text-transform: uppercase; letter-spacing: var(--tracking-wider); color: var(--accent); margin-bottom: 0.5rem; font-weight: 600; }
.glance-finding-text { font-family: var(--font-display); font-size: 1rem; font-style: italic; color: var(--text-secondary); line-height: 1.7; padding-left: 1.25rem; border-left: 3px solid var(--accent); }

/* === COMPLETENESS === */
.completeness { max-width: 900px; margin: 2rem auto; padding: 0 1.5rem; display: flex; align-items: center; gap: 0.75rem; }
.completeness-track { flex: 1; height: 4px; background: rgba(255, 255, 255, 0.06); border-radius: 2px; overflow: hidden; }
.completeness-fill { height: 100%; background: var(--accent); border-radius: 2px; transition: width 1s var(--ease); }
.completeness-text { font-size: var(--text-tiny); color: var(--text-muted); white-space: nowrap; }

/* === STORY STARTERS === */
.story-starters {
  max-width: 900px;
  margin: 2rem auto 0;
  padding: 0 1.5rem;
}
.story-starters-header {
  display: flex;
  align-items: center;
  gap: 0.625rem;
  margin-bottom: 1rem;
}
.story-starters-icon {
  width: 28px;
  height: 28px;
  color: var(--accent);
  flex-shrink: 0;
}
.story-starters-icon svg { width: 18px; height: 18px; }
.story-starters-title {
  font-family: var(--font-display);
  font-size: 1.125rem;
  font-weight: 600;
  color: var(--text-primary);
  margin: 0;
}
.story-starters-list {
  list-style: none;
  margin: 0;
  padding: 0;
  display: flex;
  flex-direction: column;
  gap: 0.75rem;
}
.story-starter {
  display: flex;
  align-items: flex-start;
  gap: 0.75rem;
  padding: 1rem 1.25rem;
  background: var(--bg-card);
  border: 1px solid var(--border);
  border-left: 3px solid var(--accent);
  border-radius: 12px;
}
.story-starter-tag {
  flex-shrink: 0;
  font-family: var(--font-body);
  font-size: 0.5625rem;
  font-weight: 700;
  text-transform: uppercase;
  letter-spacing: 0.08em;
  padding: 0.1875rem 0.5rem;
  border-radius: 4px;
  margin-top: 0.1875rem;
}
.tag-anomaly { background: rgba(239, 68, 68, 0.12); color: #ef4444; }
.tag-trend { background: rgba(59, 130, 246, 0.12); color: #60a5fa; }
.tag-comparison { background: rgba(245, 158, 11, 0.12); color: #fbbf24; }
.tag-governance { background: rgba(16, 185, 129, 0.12); color: #10b981; }
.story-starter-text {
  font-family: var(--font-display);
  font-size: 0.9375rem;
  line-height: 1.6;
  color: var(--text-secondary);
  flex: 1;
}
.story-starter-source {
  flex-shrink: 0;
  font-family: var(--font-body);
  font-size: 0.625rem;
  color: var(--text-muted);
  padding: 0.1875rem 0.5rem;
  border-radius: 4px;
  border: 1px solid var(--border);
  margin-top: 0.1875rem;
  white-space: nowrap;
}

@media (max-width: 640px) {
  .story-starter { flex-wrap: wrap; gap: 0.5rem; }
  .story-starter-source { margin-left: auto; }
}

/* === OFFICIALS GRID === */
.officials-grid {
  display: grid;
  grid-template-columns: repeat(auto-fill, minmax(260px, 1fr));
  gap: 1rem;
  margin-top: 1rem;
}
.official-card {
  background: var(--bg-card);
  border: 1px solid var(--border);
  border-radius: 12px;
  padding: 1rem 1.25rem;
  transition: border-color 0.2s;
}
.official-card:hover {
  border-color: var(--accent);
}
.official-name {
  font-family: var(--font-display);
  font-size: 1.0625rem;
  font-weight: 600;
  color: var(--text-primary);
}
.official-title {
  font-size: 0.8125rem;
  color: var(--accent);
  margin-top: 0.125rem;
}
.official-contact {
  display: flex;
  flex-direction: column;
  gap: 0.125rem;
  margin-top: 0.5rem;
  font-size: 0.8125rem;
}
.official-email {
  color: var(--accent);
  text-decoration: none;
}
.official-email:hover {
  text-decoration: underline;
}
.official-phone {
  color: var(--text-muted);
}
.official-committees {
  display: flex;
  flex-wrap: wrap;
  gap: 0.375rem;
  margin-top: 0.625rem;
}
.committee-tag {
  font-size: 0.6875rem;
  background: rgba(255, 255, 255, 0.05);
  color: var(--text-secondary);
  padding: 0.1875rem 0.5rem;
  border-radius: 100px;
  white-space: nowrap;
}

/* === MEETINGS LIST === */
.meetings-list {
  display: flex;
  flex-direction: column;
  gap: 0.5rem;
  margin-top: 0.75rem;
}
.meeting-item {
  display: flex;
  gap: 1rem;
  align-items: flex-start;
  padding: 0.75rem 1rem;
  background: var(--bg-card);
  border-radius: 10px;
  border-left: 3px solid var(--border);
}
.meeting-item.upcoming {
  border-left-color: var(--accent);
}
.meeting-date {
  font-family: var(--font-display);
  font-weight: 600;
  font-size: 0.875rem;
  color: var(--text-primary);
  min-width: 3.5rem;
  white-space: nowrap;
}
.meeting-details {
  flex: 1;
}
.meeting-body {
  font-size: 0.9375rem;
  color: var(--text-primary);
  font-weight: 500;
}
.meeting-location {
  font-size: 0.8125rem;
  color: var(--text-muted);
  margin-top: 0.125rem;
}
.meeting-badges {
  display: flex;
  gap: 0.375rem;
  margin-top: 0.375rem;
}
.meeting-badge {
  font-size: 0.6875rem;
  padding: 0.125rem 0.5rem;
  border-radius: 100px;
  font-weight: 500;
}
.badge-agenda { background: rgba(76, 175, 80, 0.15); color: #66bb6a; }
.badge-minutes { background: rgba(66, 165, 245, 0.15); color: #42a5f5; }
.badge-video { background: rgba(171, 71, 188, 0.15); color: #ab47bc; }

/* === LEGISLATION LIST === */
.legislation-list {
  display: flex;
  flex-direction: column;
  gap: 0.75rem;
  margin-top: 0.75rem;
}
.legislation-item {
  padding: 0.875rem 1rem;
  background: var(--bg-card);
  border-radius: 10px;
  border: 1px solid var(--border);
}
.legislation-meta {
  display: flex;
  flex-wrap: wrap;
  gap: 0.5rem;
  align-items: center;
  margin-bottom: 0.375rem;
}
.legislation-type {
  font-size: 0.6875rem;
  font-weight: 600;
  text-transform: uppercase;
  letter-spacing: 0.04em;
  color: var(--accent);
}
.legislation-status {
  font-size: 0.6875rem;
  padding: 0.125rem 0.5rem;
  border-radius: 100px;
  background: rgba(255, 255, 255, 0.06);
  color: var(--text-secondary);
}
.legislation-status.status-passed { background: rgba(76, 175, 80, 0.15); color: #66bb6a; }
.legislation-status.status-in-committee { background: rgba(255, 183, 77, 0.15); color: #ffb74d; }
.legislation-status.status-filed { background: rgba(255, 255, 255, 0.06); color: var(--text-muted); }
.legislation-file {
  font-size: 0.6875rem;
  color: var(--text-muted);
  font-family: var(--font-mono);
}
.legislation-title {
  font-size: 0.9375rem;
  color: var(--text-primary);
  line-height: 1.4;
}
.legislation-date {
  font-size: 0.75rem;
  color: var(--text-muted);
  margin-top: 0.375rem;
}
.inline-link {
  color: var(--accent);
  text-decoration: none;
}
.inline-link:hover {
  text-decoration: underline;
}

/* Video Meetings */
.video-meetings-list {
  display: flex;
  flex-direction: column;
  gap: 0.5rem;
  margin-top: 0.75rem;
}
.video-meeting-item {
  display: flex;
  align-items: center;
  gap: 0.875rem;
  padding: 0.75rem 1rem;
  background: var(--bg-card);
  border: 1px solid var(--border);
  border-radius: 10px;
  text-decoration: none;
  color: inherit;
  transition: border-color 0.2s, background 0.2s;
}
.video-meeting-item:hover {
  border-color: var(--accent);
  background: rgba(255, 255, 255, 0.03);
}
.video-meeting-play {
  width: 36px;
  height: 36px;
  border-radius: 50%;
  background: var(--accent);
  display: flex;
  align-items: center;
  justify-content: center;
  flex-shrink: 0;
}
.video-meeting-play svg {
  width: 14px;
  height: 14px;
  color: var(--bg);
  margin-left: 2px;
}
.video-meeting-details {
  flex: 1;
  min-width: 0;
}
.video-meeting-title {
  font-size: 0.9375rem;
  color: var(--text-primary);
  white-space: nowrap;
  overflow: hidden;
  text-overflow: ellipsis;
}
.video-meeting-date {
  font-size: 0.75rem;
  color: var(--text-muted);
  margin-top: 0.125rem;
}
.video-meeting-badge {
  font-size: 0.6875rem;
  padding: 0.125rem 0.5rem;
  border-radius: 100px;
  background: rgba(255, 255, 255, 0.06);
  color: var(--text-secondary);
  flex-shrink: 0;
}

/* Government News */
.news-list {
  display: flex;
  flex-direction: column;
  gap: 0.5rem;
  margin-top: 0.75rem;
}
.news-item {
  display: block;
  padding: 0.875rem 1rem;
  background: var(--bg-card);
  border: 1px solid var(--border);
  border-radius: 10px;
  text-decoration: none;
  color: inherit;
  transition: border-color 0.2s, background 0.2s;
}
.news-item:hover {
  border-color: var(--accent);
  background: rgba(255, 255, 255, 0.03);
}
.news-title {
  font-size: 0.9375rem;
  color: var(--text-primary);
  font-weight: 500;
  line-height: 1.4;
}
.news-description {
  font-size: 0.8125rem;
  color: var(--text-secondary);
  margin-top: 0.375rem;
  line-height: 1.5;
}
.news-date {
  font-size: 0.75rem;
  color: var(--text-muted);
  margin-top: 0.375rem;
}

@media (max-width: 640px) {
  .officials-grid { grid-template-columns: 1fr; }
  .meeting-item { flex-direction: column; gap: 0.25rem; }
  .video-meeting-item { flex-direction: column; text-align: center; }
  .video-meeting-play { margin: 0 auto; }
}

/* === SECTIONS CONTAINER === */
.sections { max-width: 900px; margin: 0 auto; padding: 0.5rem 1.5rem 4rem; display: flex; flex-direction: column; gap: 2.5rem; }

/* === SECTION CARD === */
.section {
  background: var(--bg-card);
  border: 1px solid var(--border);
  border-radius: 20px;
  padding: 2.5rem 2.5rem;
  opacity: 0;
  transform: translateY(24px);
  transition: transform 0.6s var(--ease), opacity 0.6s var(--ease), border-color 0.3s ease, box-shadow 0.4s var(--ease);
}
.section.visible { opacity: 1; transform: translateY(0); }
.section:hover { border-color: var(--border-hover); transform: translateY(-2px); box-shadow: 0 12px 40px rgba(0, 0, 0, 0.25); }

/* Section header: label + title (editorial, not dashboard) */
.section-header { display: flex; align-items: center; gap: 0.75rem; margin-bottom: 1.25rem; }
.section-icon { width: 36px; height: 36px; border-radius: 10px; background: var(--accent-glow); display: flex; align-items: center; justify-content: center; color: var(--accent); flex-shrink: 0; }
.section-icon svg { width: 18px; height: 18px; }
.section-title { font-family: var(--font-display); font-size: clamp(1.125rem, 2.5vw, 1.5rem); font-weight: 600; letter-spacing: -0.01em; color: var(--text-primary); margin: 0; text-transform: none; }

/* === SECTION NARRATIVE — editorial prose, not dashboard text === */
.section-narrative {
  font-family: var(--font-display);
  font-size: 1.0625rem;
  line-height: 1.75;
  color: var(--text-secondary);
  margin-bottom: 2rem;
  max-width: 640px;
}
.section-narrative strong {
  color: var(--text-primary);
  font-weight: 600;
}
.section-narrative .hl {
  color: var(--accent-light);
  font-weight: 600;
}
.section-narrative .good { color: var(--positive); font-weight: 600; }
.section-narrative .bad { color: var(--negative); font-weight: 600; }
.section-narrative .caution { color: var(--warning); font-weight: 600; }

/* === HERO STAT — 1 big number per section === */
.hero-stat {
  display: flex;
  flex-direction: column;
  gap: 0.375rem;
  margin-bottom: 1.75rem;
}
.hero-stat-label {
  font-size: 0.6875rem;
  font-family: var(--font-body);
  font-weight: 600;
  text-transform: uppercase;
  letter-spacing: 0.1em;
  color: var(--text-muted);
}
.hero-stat-value {
  font-family: var(--font-display);
  font-size: var(--stat-hero);
  font-weight: 700;
  font-variant-numeric: tabular-nums;
  letter-spacing: -0.02em;
  line-height: 1.1;
  color: var(--text-primary);
}
.hero-stat-value.good { color: var(--positive); }
.hero-stat-value.bad { color: var(--negative); }
.hero-stat-value.caution { color: var(--warning); }
.hero-stat-context {
  display: inline-flex;
  align-items: center;
  gap: 0.5rem;
  font-size: 0.75rem;
  color: var(--text-secondary);
  margin-top: 0.125rem;
}

/* Delta badge (inline trend chip) */
.delta-badge {
  display: inline-flex;
  align-items: center;
  gap: 0.25rem;
  padding: 0.125rem 0.5rem;
  border-radius: 4px;
  font-weight: 600;
  font-size: 0.6875rem;
}
.delta-badge.positive { background: var(--positive-bg); color: var(--positive); }
.delta-badge.negative { background: var(--negative-bg); color: var(--negative); }
.delta-badge.neutral { background: rgba(107, 114, 128, 0.10); color: var(--neutral); }

/* === COMPARISON BAR — shows where city falls on distribution === */
.comparison-bar { position: relative; margin: 0.75rem 0 0.5rem; }
.comparison-bar-track {
  width: 100%;
  height: 6px;
  background: rgba(255, 255, 255, 0.04);
  border-radius: 3px;
  position: relative;
  overflow: visible;
}
.comparison-bar-fill {
  position: absolute;
  left: 0; top: 0;
  height: 100%;
  border-radius: 3px;
  background: linear-gradient(90deg, var(--accent-glow), var(--accent));
  transition: width 0.8s var(--ease);
}
.comparison-bar-marker {
  position: absolute;
  top: 50%;
  transform: translate(-50%, -50%);
  width: 14px;
  height: 14px;
  border-radius: 50%;
  background: var(--accent);
  border: 2px solid var(--bg-card);
  box-shadow: 0 0 0 2px var(--accent);
  z-index: 2;
}
.comparison-bar-ref {
  position: absolute;
  top: -2px;
  width: 2px;
  height: 10px;
  background: var(--text-muted);
  border-radius: 1px;
  z-index: 1;
}
.comparison-bar-ref-label {
  position: absolute;
  top: -18px;
  transform: translateX(-50%);
  font-size: 0.5625rem;
  color: var(--text-muted);
  white-space: nowrap;
}
.comparison-bar-range {
  display: flex;
  justify-content: space-between;
  font-size: 0.5625rem;
  color: var(--text-faint);
  margin-top: 0.25rem;
}

/* === SUPPORTING STAT GRID — smaller, 2-3 cols === */
.stat-grid {
  display: grid;
  grid-template-columns: repeat(auto-fit, minmax(140px, 1fr));
  gap: 1.5rem;
}
.stat { display: flex; flex-direction: column; gap: 0.25rem; }
.stat-value {
  font-family: var(--font-display);
  font-size: var(--stat-supporting);
  font-weight: 700;
  color: var(--text-primary);
  line-height: 1.2;
  font-variant-numeric: tabular-nums;
  letter-spacing: -0.01em;
}
.stat-value.good { color: var(--positive); }
.stat-value.bad { color: var(--negative); }
.stat-value.caution { color: var(--warning); }
.stat-label {
  font-family: var(--font-body);
  font-size: var(--stat-label);
  font-weight: 500;
  color: var(--text-secondary);
  letter-spacing: 0.02em;
}
.stat-context {
  font-size: var(--stat-context);
  color: var(--text-muted);
  margin-top: 0.125rem;
}
.trend { display: inline-flex; align-items: center; gap: 0.25rem; font-size: var(--text-tiny); font-weight: 600; }
.trend.up { color: var(--positive); }
.trend.down { color: var(--negative); }
.trend.flat { color: var(--neutral); }

/* Sub-section subtitle */
.section-subtitle {
  font-family: var(--font-body);
  font-size: var(--text-tiny);
  text-transform: uppercase;
  letter-spacing: var(--tracking-wider);
  color: var(--accent);
  margin: 2rem 0 0.75rem;
  font-weight: 600;
}

/* Stat group (nested inset card) */
.stat-group {
  background: var(--bg-inset);
  border-radius: 12px;
  padding: 1.25rem;
  margin-top: 1rem;
}

/* === SPARKLINE === */
.sparkline { margin-top: 1.25rem; }
.sparkline svg { width: 100%; height: 72px; }
.sparkline-line { fill: none; stroke: var(--accent); stroke-width: 2; stroke-linecap: round; stroke-linejoin: round; }
.sparkline-area { fill: var(--accent-glow); }
.sparkline-labels { display: flex; justify-content: space-between; font-size: 0.625rem; color: var(--text-muted); margin-top: 0.375rem; font-variant-numeric: tabular-nums; }
.sparkline-title {
  font-family: var(--font-body);
  font-size: 0.8125rem;
  font-weight: 600;
  color: var(--text-primary);
  margin-bottom: 0.25rem;
}
.sparkline-finding {
  font-family: var(--font-display);
  font-size: 0.8125rem;
  font-style: italic;
  color: var(--text-secondary);
  margin-bottom: 0.5rem;
  line-height: 1.5;
}

/* === BARS (horizontal) === */
.bars { display: flex; flex-direction: column; gap: 0.625rem; margin-top: 0.75rem; }
.bar-row { display: flex; align-items: center; gap: 0.75rem; }
.bar-label { font-size: var(--text-tiny); color: var(--text-secondary); min-width: 120px; flex-shrink: 0; white-space: nowrap; overflow: hidden; text-overflow: ellipsis; }
.bar-track { flex: 1; height: 6px; background: rgba(255, 255, 255, 0.04); border-radius: 3px; overflow: hidden; }
.bar-fill { height: 100%; background: var(--accent); border-radius: 3px; transition: width 0.8s var(--ease); }
.bar-value { font-size: var(--text-tiny); color: var(--text-secondary); min-width: 3rem; text-align: right; flex-shrink: 0; font-variant-numeric: tabular-nums; }

/* === TIER BADGE === */
.tier-badge { display: inline-flex; align-items: center; gap: 0.375rem; padding: 0.25rem 0.75rem; border-radius: 6px; font-size: var(--text-tiny); font-weight: 600; text-transform: uppercase; letter-spacing: var(--tracking-wide); }
.tier-badge.excellent { background: rgba(16, 185, 129, 0.15); color: #10b981; }
.tier-badge.good { background: rgba(59, 130, 246, 0.15); color: #3b82f6; }
.tier-badge.fair { background: rgba(245, 158, 11, 0.15); color: #f59e0b; }
.tier-badge.poor { background: rgba(239, 68, 68, 0.15); color: #ef4444; }

/* === FMR TABLE === */
.fmr-table { display: grid; grid-template-columns: repeat(5, 1fr); gap: 0.5rem; margin-top: 1rem; }
.fmr-cell { text-align: center; padding: 0.625rem; border-radius: 8px; background: var(--bg-inset); border: 1px solid var(--border); }
.fmr-cell-label { font-size: 0.625rem; color: var(--text-muted); text-transform: uppercase; letter-spacing: var(--tracking-wide); }
.fmr-cell-value { font-family: var(--font-display); font-size: 1rem; font-weight: 600; color: var(--text-primary); margin-top: 0.25rem; font-variant-numeric: tabular-nums; }

/* === DATA SOURCES === */
.sources-grid { display: grid; grid-template-columns: repeat(auto-fill, minmax(200px, 1fr)); gap: 0.75rem; }
.source-badge { display: flex; align-items: center; gap: 0.5rem; padding: 0.5rem 0.75rem; border-radius: 8px; border: 1px solid var(--border); background: var(--bg-inset); font-size: var(--text-tiny); }
.source-dot { width: 8px; height: 8px; border-radius: 50%; flex-shrink: 0; }
.source-dot.available { background: var(--positive); }
.source-dot.unavailable { background: var(--neutral); opacity: 0.4; }
.source-dot.error { background: var(--negative); }
.source-name { color: var(--text-secondary); }
.source-tier { margin-left: auto; color: var(--text-muted); font-size: 0.625rem; }
.sources-updated { margin-top: 1rem; font-size: var(--text-tiny); color: var(--text-muted); }

/* === SUBSCRIBE CTA === */
.subscribe-cta { max-width: 900px; margin: 0 auto 3rem; padding: 0 1.5rem; }
.subscribe-cta-inner { background: linear-gradient(180deg, var(--bg-card) 0%, var(--bg-elevated) 100%); border: 1px solid var(--border); border-radius: 20px; padding: 4rem 2rem; text-align: center; }
.subscribe-cta h3 { font-family: var(--font-display); font-size: clamp(1.5rem, 4vw, 2.25rem); font-weight: 600; color: var(--text-primary); margin: 0 0 0.75rem; letter-spacing: -0.01em; }
.subscribe-cta p { font-family: var(--font-display); font-size: var(--text-body); color: var(--text-secondary); margin: 0 0 2rem; line-height: 1.6; }
.subscribe-form { display: flex; gap: 0.5rem; max-width: 400px; margin: 0 auto; }
.subscribe-form input { flex: 1; padding: 0.75rem 1rem; border-radius: 8px; border: 1px solid var(--border); background: var(--bg-primary); color: var(--text-primary); font-size: var(--text-small); outline: none; transition: border-color 0.2s; }
.subscribe-form input:focus { border-color: var(--accent); }
.subscribe-form input::placeholder { color: var(--text-muted); }
.subscribe-form button { padding: 0.75rem 1.5rem; border-radius: 8px; border: none; background: var(--accent); color: white; font-size: var(--text-small); font-weight: 600; cursor: pointer; transition: opacity 0.2s; white-space: nowrap; }
.subscribe-form button:hover { opacity: 0.9; }
.subscribe-form button:disabled { opacity: 0.5; }
.subscribe-success { color: var(--positive); font-size: var(--text-small); }
.subscribe-error { color: var(--negative); font-size: var(--text-tiny); margin-top: 0.5rem; }

/* === FOOTER === */
.site-footer { padding: 2rem 1.5rem; border-top: 1px solid var(--border); text-align: center; font-size: var(--text-tiny); color: var(--text-muted); }
.site-footer a { color: var(--text-secondary); }

/* === INDEX PAGE === */
.index-page { max-width: 1100px; margin: 0 auto; padding: 7rem 1.5rem 4rem; }
.index-search { position: relative; margin-bottom: 1.5rem; }
.index-search input { width: 100%; padding: 1rem 1.25rem; border-radius: 12px; border: 1px solid var(--border); background: var(--bg-card); color: var(--text-primary); font-size: var(--text-body); outline: none; transition: border-color 0.2s; }
.index-search input:focus { border-color: var(--accent); }
.index-search input::placeholder { color: var(--text-muted); }
.index-count { font-size: var(--text-small); color: var(--text-secondary); margin-bottom: 1.5rem; }
.index-grid { display: grid; grid-template-columns: repeat(auto-fill, minmax(260px, 1fr)); gap: 1rem; }
.index-card { padding: 1.5rem; border-radius: 16px; border: 1px solid var(--border); background: var(--bg-card); text-decoration: none; transition: border-color 0.3s var(--ease), transform 0.3s var(--ease), box-shadow 0.3s var(--ease); display: block; }
.index-card:hover { border-color: var(--border-hover); transform: translateY(-3px); text-decoration: none; box-shadow: 0 8px 32px rgba(0, 0, 0, 0.2); }
.index-card-name { font-family: var(--font-display); font-size: 1.25rem; font-weight: 600; color: var(--text-primary); margin-bottom: 0.25rem; letter-spacing: -0.01em; }
.index-card-state { font-size: var(--text-tiny); font-family: var(--font-body); color: var(--text-secondary); text-transform: uppercase; letter-spacing: var(--tracking-wider); }
.index-card-meta { font-size: var(--text-small); font-family: var(--font-body); color: var(--text-muted); margin-top: 0.5rem; }

/* === RESPONSIVE === */
@media (max-width: 640px) {
  .hero { min-height: 50vh; padding: 6rem 1rem 3rem; }
  .hero-name { font-size: clamp(2.5rem, 10vw, 4rem); }
  .section { padding: 2rem 1.5rem; border-radius: 16px; }
  .sections { padding: 0.5rem 1rem 3rem; gap: 2rem; }
  .stat-grid { grid-template-columns: repeat(2, 1fr); gap: 1rem; }
  .bar-label { min-width: 80px; font-size: 0.625rem; }
  .sources-grid { grid-template-columns: 1fr; }
  .fmr-table { grid-template-columns: repeat(3, 1fr); }
  .index-grid { grid-template-columns: 1fr; }
  .subscribe-form { flex-direction: column; }
  .glance { grid-template-columns: repeat(2, 1fr); }
  .glance-stat { padding: 1.25rem 1rem; }
  .glance-stat-value { font-size: clamp(1.5rem, 4vw, 2rem); }
  .section-narrative { font-size: 0.9375rem; }
  .hero-stat-value { font-size: clamp(1.75rem, 5vw, 2.5rem); }
  .subscribe-cta-inner { padding: 3rem 1.5rem; }
  .report-card-grid { grid-template-columns: repeat(2, auto); gap: 0.25rem 1.25rem; }
  .composite-grade { font-size: clamp(2.5rem, 8vw, 3.5rem); }
}
